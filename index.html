<!-- <?php

if(isset($_POST[`submit`]))
{
  print_r($_POST['name'])

}
?> -->

<!DOCTYPE html>
<html lang="pt-br">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
       
        <title>Compre Já</title>
        
        <link href="https://fonts.googleapis.com/css2?family=Raleway:wght@400;700&display=swap" rel="stylesheet">
       
        <link rel="stylesheet" href="style.css">

    </head>
    <body>
     
        <header>
       
          <img src="img/logo.png" class="img-thumbnail">
          <h1>Nome do Produto</h1>
              
     
        </header>
        <main>   
          <div class="page">
          <div class="column1">
                <form class="form" id="form">
                  <fieldset>
                    <div class="fieldset-wrapper" >
                      <legend>Seus dados para receber contato</legend>
                      
                      <div class="input-wrapper">
                          <label for="name">Nome completo</label>
                          <input type="text" class="inputs required" oninput="nameValidate()" id="name"/>
                          <span class="span-required">Nome deve ter, no mínimo, 3 caracteres.</span>
                    </div>
                    <div class="input-wrapper">
                      <label for="email">
                          Seu melhor e-mail 
                          </label>
                      <input type="email" placeholder = "Digite um e-mail válido" class="inputs required" oninput="emailValidate()" id="email"  />
                      
                      <span class="span-required">E-mail inválido</span>
                    </div>

                  <div class="input-wrapper">
                        <label for="birth-date">
                          Data de nascimento <span>(DD/MM/AAAA)</span>
                          </label>
                        <input type="date" id="birth-date"  />
                  </div>
              
                </div>
              </fieldset>
      
              <fieldset>
                <div class="fieldset-wrapper">
                  <div class="input-wrapper">
                    <label for="region"> Região</label>
                  
                      <select class="form-control" name="region">
                          <option value="">Selecione a sua região</option>
                          <option>Centro-Oeste</option>
                          <option>Nordeste</option>
                          <option>Norte</option>
                          <option>Sudeste</option>
                          <option>Sul</option>
                      </select>
                      
                  </div>
                  
                  <div class="input-wrapper">
                      <label for="unit">Unidade </label>
                          <select class="form-control" name="region">
                              <option value="">Unidade</option>
                              <option>A definir</option>

                          </select>
                      
                  </div>
                </div>
              </fieldset>
          
            </form>

            <footer>
              <input class="button" type="submit" form="form" value="Enviar" />
            </footer>
          </div>
          <div class="column2">

            <div class="publi">
                <h2>Informação relevante.</h2>
                <h3>Chamada interessante para o produto.</h3>
            </div>
      
          </div>
          </div>
        </main>
          
    </body>

    <script>

      const form = document.querySelector('#form');
      const fieldset = document.querySelectorAll('.required');
      const span = document.querySelectorAll('.span-required');
      const emailRegex = /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;



      form.addEventListener('submit', (event)=> {
          event.preventDefault();
          nameValidate();
        emailValidate();
        

      });

      form.addEventListener('submit', (event) => {
       console.log('alo')
       });


      function setError(index)
      {
      fieldset[index].style.border = '1px solid  #FF1010';
      span[index].style.display ='block';


      }

      function removeError(index)
      {
        fieldset[index].style.border = '';
      span[index].style.display ='none';
      }
      function nameValidate(){
          if(fieldset[0].value.length < 3)
          {
            setError(0);

          }
          else 
          {
            removeError(0);
          }
          }
          
      function emailValidate()
      {
        if (!emailRegex.test(fieldset[1].value))
        {
          setError(1);

        }

        else 
        {
          removeError(1);
        }
      };
    </script>
</html>
